%%%--- TITEL OG FORFATTER ---%%%
\newcommand{\tit}{Benchmarking the Lattice Boltzmann model implemented using NumPy and PyCUDA}
\newcommand{\aut}{Jens Bang \& Jacob Salomonsen}
\newcommand{\subj}{Bachelor Project}
\newcommand{\mail}{\href{mailto:jens@snej.dk}{jens@snej.dk} or \href{mailto:jiekebo@gmail.com}{jiekebo@gmail.com}}

%%%--- PREAMBLE INCLUDE ---%%%
\input{preamble.tex}
\usepackage[numbered,framed]{mcode}
%\usepackage[danish]{babel}				% Dansk orddeling osv.
%\usepackage[fixlanguage]{babelbib}		% Sprogpakke til BibTeX
%\selectbiblanguage{danish}				% Sprogvalg til BibTeX

%%%--- LISTISTINGS SETUP ---%%%
%\lstset{ %
%language=C++, 							% choose the language of the code
%basicstyle=\footnotesize,				% the size of the fonts that are used for the code
%numbers=left,							% where to put the line-numbers
%numberstyle=\footnotesize,				% the size of the fonts that are used for the line-numbers
%stepnumber=2,							% the step between two line-numbers. If it's 1 each line will be numbered
%numbersep=5pt,							% how far the line-numbers are from the code
%backgroundcolor=\color{white},			% choose the background color. You must add \usepackage{color}
%showspaces=false,						% show spaces adding particular underscores
%showstringspaces=false,					% underline spaces within strings
%showtabs=false,							% show tabs within strings adding particular underscores
%frame=single,							% adds a frame around the code
%tabsize=2,								% sets default tabsize to 2 spaces
%captionpos=b,							% sets the caption-position to bottom
%breaklines=true,						% sets automatic line breaking
%breakatwhitespace=false,				% sets if automatic breaks should only happen at whitespace
%escapeinside={\%*}{*)}					% if you want to add a comment within your code
%}

%%%--- FANCYHDR ---%%%
\pagestyle{fancy}
\chead{}
\lhead{\aut}
\rhead{\nouppercase{\leftmark}}
\cfoot{}
\lfoot{\today}
\rfoot{\thepage}

%%%--- DOKUMENT STARTER HER ---%%%
\begin{document}

%%%--- Title ---%%%%
\begin{titlepage}
\HRule
\begin{center}\huge{\bfseries{\tit}}\end{center}
\HRule
\\[1.0cm]
\begin{center}
\aut
\\[0.5cm]
\mail
\\[0.5cm]
\subj
\\[1.5cm]
Department of Computer Science
\\[0.5cm]
University of Copenhagen
\end{center}
\vfill
\begin{center}\today\end{center}
\end{titlepage}

%%%--- Tekst ---%%%

\section*{Abstract}


\newpage
\tableofcontents
\newpage

\section{Introduction}

This paper is a bachelor project written by bachelor degree students at The Computer Science Department of The University of Copenhagen. As such the intended readers are anyone with an interest in the subject matter, as well as a basic understanding of computer science and programming in Python. The object of the paper is to examine a possible gain in execution speed, when using CUDA to implement the Lattice Boltzmann Model. It is not the object of the paper to fulle explain the Lattice Boltzmann Model, so while a reasonable understanding of physics is preferrable, it is not necessary.

When we started this paper, the plan was to implement a Python version of the Lattice Boltzmann Model using CUDA, as well as a C++ version of the same code. The object was to compare CUDA implementations in Python and C/C++, to see if the ease of implementation in Python would mean a loss of execution speed, as compared to the executon speed of the longer implementation time of C/C++.

During the work on the paper we realized that writing CUDA code in Python is simply embedding C code in the Python code, which will then be passed on to precisely the same compiler as the CUDA code in the C/C++ version. This would essentially mean that comparing the run times of the two implementations, would only reveal the differences between the run times of the initializing code, and nothing about the run times of the CUDA itself.

Since this would be a comparison of normal C/C++ code run times to normal Python code run times, with no CUDA involved, a case that has already been extensively documented, and since we wanted to investigate a possible increase/decrease in execution speed when implementing CUDA code in Python, as opposed to implementing the same CUDA code in C/C++, going further would clearly not accomplish anything new. For this reason we, in agreement with out advisor, changed the scope of the paper to investigate possible speed increases or decreses, when implementing the Lattice Boltzmann Model in Python using pyCUDA, as opposed to implementing the same model in Python using NumPy.

The two Python implementations of the Lattice Boltzmann Model are both based on a MatLab implementation of the model, which will be introduced in the Implementation section of this paper. [@@@@ Kan man automatisk indsætte den korrekte titel på afsnittet?]

Reference tests:

Cuda by example\cite{cudabyexample}

PyCUDA \cite{kloeckner_pycuda_2009}

\newpage

\section{Abbreviations}

\begin{figure}[htb]
\centering
	\begin{tabular}{lcl}
		LBM & = & Lattice Boltzmann Method\\
		D2Q9 & = & Two dimensional, 9 directional vectors per lattice-point\\
		D3Q19 & = & Three dimensional, 19 directional vectors per lattice-point
	\end{tabular}
\end{figure}

\newpage
\input{theory.tex}

\newpage
\input{implementation.tex}


\newpage
\input{testing.tex}


\newpage
\input{conclusion.tex}

\newpage
\input{appendix.tex}

\newpage
\bibliographystyle{plain}
\bibliography{library}

%%%---BibTeX ---%%%
%(Compile: 1 x LaTeX 1 x Bibtex 2 x LaTex)%

\end{document}